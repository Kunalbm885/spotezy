{% load static %}
<!DOCTYPE html>
<html>

<head>
   <meta charset="UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <link rel="icon" href="data:,">


   <link rel="preconnect" href="https://fonts.googleapis.com" />
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
   <link rel="stylesheet" href="{% static 'css/design.css' %}" />
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   <link href="https://fonts.googleapis.com/css2?family=Lora&family=Poppins:wght@100;200;300;400;600;700&display=swap"
      rel="stylesheet" />
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous" />
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"></script>
   <link rel="stylesheet" href="{% static 'css/design.css' %}" />

   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />

   <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
   <script type="text/JavaScript" src=" https://MomentJS.com/downloads/moment.js"></script>

   <title>SpotEzy</title>
</head>

<body>
   <div class="main-bg">
      <nav class="nav-bar">

         <div class="nav-logo">
            <div id="bars">
               <a href="">
               </a>
            </div>

            <img src="{% static 'images/SPOTEZY_white.svg' %}" alt="">
         </div>




         <ul class="main-menu">
            <li><a class="current" href="">Home</a></li>

            <li><a href="">About Us</a></li>
            <li><a href="{% url 'biz_contactus_pg' %}">List Your Event</a></li>
         </ul>

         <div class="search">

            <button class="search_btn"><i class="fa fa-search"></i></button>

            <div class="profile">
               <label for="dropcheck">
                  <i class="fa fa-user"></i>
               </label>
               <input id="dropcheck" onclick="openTop()" class="dropcheck" type="checkbox" style="position:absolute ; left: -100000px;">
               <div id="panel" class="drop-down">
                  <li id="clsstop">
                     <h7>For User</h7>
                     <h6 onclick="closeTop()">&times;</h6>
                  </li>
                  <!-- <hr> -->
                  <li id="frusrlgin"><i class="bi bi-box-arrow-in-right"></i><a class="dpdn" href="{% url 'userdashboard' %}">LogIn</a></li>
                  <li id="frusrlgin"><i class="bi bi-person-plus"></i><a class="dpdn" href="" data-bs-toggle="modal" data-bs-target="#exampleModalCenter">SignUp</a>
                  </li>
                  <li id="clsstop">
                     <h7>For Businesss</h7>
                  </li>
                  <!-- <hr> -->
                  <li id="frusrlgin" ><i class="bi bi-box-arrow-in-right"></i><a class="dpdn" href="{% url 'Dashboard-form1-page' %}">Login</a></li>
               </div>
            </div>
         </div>
      </nav>





      <div class="Carousel" onload="myFunction()">
         <div class="swiper">
            <!-- Additional required wrapper -->
            <div class="swiper-wrapper">
               <!-- Slides -->
               {% for c in carousel%}
               <div class="swiper-slide">



                  <div class="carouselpg">

                     <div class="carousel_info">
                        <div class="calendar-div">

                           <h2 class="numberdate">29</h2>
                           <hr>
                           <h2 class="month">Aug</h2>

                        </div>
                        <h1>{{c.Event_Name}}</h1>
                        <!-- <h3>Date</h3> -->
                        <div class="info-containerr">



                           <h1 class="dateee" style="display: none;">{{c.Startdate}}</h1>
                           <h1 class="timeee" style="display: none;">{{c.Starttime}}</h1>


                           <h3 class="carouseldate"></h3>

                           <h3 class="carouseltime"></h3>
                           <h3><i class="bi bi-geo-alt"></i>{{c.City}}</h3>
                        </div>
                        <a href="" style="    width: fit-content;
     color: rgb(255 255 255);
     text-decoration: none;
     ">
                           <div class="buynowbtn">
                              <a href="{% url 'show_eventdetails_booknow' idd=c.uid  %}">
                                 <h2>Get Your Tickets</h2>
                              </a>


                           </div>
                        </a>

                     </div>


                     <div class="carouselimg">
                        <div class="zebra">
                           {% if c.Event_img%}
                           <img src="{{c.Event_img.url}}" alt="">
                           {% endif %}

                        </div>
                     </div>




                  </div>




               </div>
               {% endfor %}

               ...
            </div>
            <!-- If we need pagination -->
            <div class="swiper-pagination"></div>

            <!-- If we need navigation buttons -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>

            <!-- If we need scrollbar -->
            <!-- <div class="swiper-scrollbar"></div> -->
         </div>
      </div>


      <div class="cardscontainer">
         <h1 class="heading">EVENTS</h1>

         <div class="load-more">
            <h6 id="load-more">
               Veiw More
            </h6>
         </div>


         <div class="box-container">
            {%if Eventcards %}
            {% for e in Eventcards %}
            <div class="box">
               <div class="image">
                  {%if e.Event_img %}
                  <img src="{{e.Event_img.url}}" alt="">
                  {%endif%}
               </div>
               <div class="content">
                  <h3>{{e.Event_Name}}</h3>
                  <div id="datetimeee">
                     <p class="D" style="display:none;">{{e.Startdate}}</p>
                     <p class="T" style="display:none;">{{e.Starttime}}</p>
                     <p class="eventcarddate"></p>
                     <p class="eventcardtime"></p>
                  </div>

                  <p id="cityyyy">
                     <i class="bi bi-geo-alt-fill"></i>&nbsp;{{e.City}}
                  </p>
                  <div id="evecardbtn">
                     <a href="{% url 'show_eventdetails_booknow' idd=e.uid %}">
                        <div id="evecardbtn2">
                           BUY NOW
                        </div>
                     </a>
                  </div>
               </div>
            </div>
            {% endfor %}
            {% endif%}

         </div>

      </div>
   </div>






   <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
         <div class="modal-content">
            <div class="modal-header">
               signup
               <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

            </div>
            <form action="{%url 'homepage' %}" method="POST">

            <div class="modal-body">

                  {% csrf_token %}

                  <input type="text" name="personname" id="">
                  <input type="email" name="username" id="">
                  <input type="text" name="mobilenumber" id="">
                  <input type="password1" name="password" id="">
                  <input type="password2" name="password2" id="">


            </div>

            <div class="modal-footer">

               <button type="submit" id="savechanges" class="btn btn-primary">Save Changes</button>
            </div>
         </form>

         </div>
      </div>
   </div>





   <div class="footer"></div>

   </div>











   <script>
         function closeTop(){
         document.getElementById("panel").style.display="none";
      }
      function openTop(){
         document.getElementById("panel").style.display="block";

      }
      var container = document.getElementsByClassName("dateee");
      for (let i = 0; i < container.length; i++) {
         var d = document.getElementsByClassName("dateee")[ i ].innerHTML
         var t = document.getElementsByClassName("timeee")[ i ].innerHTML
         const number = moment(t, [ "HH.mm" ]).format("hh:mm a");
         document.getElementsByClassName("carouseltime")[ i ].innerHTML = '<i class="bi bi-clock"></i> ' + number + '&nbsp; &nbsp;' + '&vert;';
         const dd = new Date(d)
         let tt = dd.getDate();
         let yy = dd.getFullYear();

         document.getElementsByClassName("numberdate")[ i ].innerHTML = tt;
         var monthName = dd.toLocaleString("default", { month: "short" });
         document.getElementsByClassName("month")[ i ].innerHTML = monthName;
         document.getElementsByClassName("carouseldate")[ i ].innerHTML = '<i class="bi bi-calendar"></i> ' + monthName + '&nbsp' + tt + '&nbsp' + "," + '&nbsp' + yy + '&nbsp; &nbsp;' + '&vert;';


      }


      var container2 = document.getElementsByClassName("D");
      for (let i = 0; i < container2.length; i++) {
         var d = document.getElementsByClassName("D")[ i ].innerHTML
         var t = document.getElementsByClassName("T")[ i ].innerHTML

         const number = moment(t, [ "HH.mm" ]).format("hh:mm a");
         // document.getElementsByClassName("eventcardtime")[ i ].innerHTML ='<i class="bi bi-clock-fill"></i> ' + number

         const dd = new Date(d)
         let tt = dd.getDate();
         let yy = dd.getFullYear();
         var monthName = dd.toLocaleString("default", { month: "short" });
         document.getElementsByClassName("eventcarddate")[ i ].innerHTML = '<i class="bi bi-calendar-fill"></i> ' + monthName + '&nbsp' + tt + '&nbsp' + ' ,&nbsp' + yy + '&nbsp; &vert; &nbsp;' + number;


      }



      const swiper = new Swiper('.swiper', {

         autoplay: {
            delay: 4500,
            disableOnInteraction: false,
         },
         // Optional parameters
         // direction: 'horizontal',
         loop: true,

         // If we need pagination
         pagination: {
            el: '.swiper-pagination',
            clickable: true,
         },

         // Navigation arrows
         navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
         },

         // And if we need scrollbar
         scrollbar: {
            el: '.swiper-scrollbar',
         },
      });


      let loadMoreBtn = document.querySelector('#load-more');
      let currentItem = 4;

      loadMoreBtn.onclick = () => {
         let boxes = [ ...document.querySelectorAll('.cardscontainer .box-container .box') ];
         for (var i = currentItem; i < currentItem + 4; i++) {
            boxes[ i ].style.display = 'inline-block';
         }
         currentItem += 4;

         if (currentItem >= boxes.length) {
            loadMoreBtn.style.display = 'none';
         }
      }

   </script>





</body>

</html>